From 36ee767a3928fcd61f220d0e046686ba308a9fb0 Mon Sep 17 00:00:00 2001
From: shinchiro <shinchiro@users.noreply.github.com>
Date: Thu, 12 Jan 2023 20:52:15 +0800
Subject: [PATCH] Add .exe to binary name

---
 Makefile | 6 +++++-
 1 file changed, 5 insertions(+), 1 deletion(-)

diff --git a/Makefile b/Makefile
index 8255463..756c3f9 100644
--- a/Makefile
+++ b/Makefile
@@ -19,6 +19,10 @@ else
   VERSION = $(patsubst mujs-%,%,$(notdir $(CURDIR)))
 endif
 
+ifeq "$(host)" "mingw"
+  EXT := .exe
+endif
+
 ifeq ($(shell uname),Darwin)
   SO = dylib
 else
@@ -119,7 +123,7 @@ install: build/release/mujs build/release/libmujs.a build/release/libmujs.$(SO)
 	install -d $(DESTDIR)$(bindir)
 	install -m 644 mujs.h $(DESTDIR)$(incdir)
 	install -m 644 build/release/mujs.pc $(DESTDIR)$(libdir)/pkgconfig
-	install -m 755 build/release/mujs $(DESTDIR)$(bindir)
+	install -m 755 build/release/mujs$(EXT) $(DESTDIR)$(bindir)
 	install -m 644 build/release/libmujs.a $(DESTDIR)$(libdir)
 	install -m 755 build/release/libmujs.$(SO) $(DESTDIR)$(libdir)
 
-- 
2.39.0

